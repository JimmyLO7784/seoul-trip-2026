<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#f7f7f2">
    <title>é¦–çˆ¾ä¹‹æ—… 2026</title>
    
    <!-- åœ–ç¤ºåº« -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
    
    <style>
        /* --- æ ¸å¿ƒè®Šæ•¸ --- */
        :root {
            --bg: #f7f7f2; --surface: #ffffff; --text-main: #333333; --text-sub: #888888;
            --border: #e0e0e0; --primary: #d4a373; --primary-light: #f0e5d8;
            --naver: #03C75A; --accent-red: #d9534f; --accent-blue: #4a90e2;
            --safe-top: env(safe-area-inset-top, 20px);
            --safe-bottom: env(safe-area-inset-bottom, 20px);
        }
        [data-theme="dark"] {
            --bg: #121212; --surface: #1e1e1e; --text-main: #e0e0e0; --text-sub: #a0a0a0;
            --border: #333333; --primary-light: #3d342b;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; padding: 0; background: var(--bg); color: var(--text-main); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; font-size: 15px; line-height: 1.5; overscroll-behavior-y: none; }

        /* --- ä½ˆå±€ --- */
        header {
            position: fixed; top: 0; width: 100%; z-index: 100;
            height: calc(50px + var(--safe-top)); padding-top: var(--safe-top);
            background: rgba(var(--bg), 0.95); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center; justify-content: center;
        }
        h1 { font-size: 16px; font-weight: 800; letter-spacing: 2px; margin: 0; }

        main { padding: calc(60px + var(--safe-top)) 16px calc(70px + var(--safe-bottom)) 16px; min-height: 100vh; }

        /* --- é€šç”¨å…ƒä»¶ --- */
        .card {
            background: var(--surface); border-radius: 16px; padding: 16px; margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.03); border: 1px solid var(--border);
        }
        
        /* --- å¤©æ°£å°å·¥å…· --- */
        .weather-widget {
            display: flex; justify-content: space-between; align-items: center;
            background: linear-gradient(135deg, var(--primary), #b08d55);
            color: white; padding: 16px 20px; border-radius: 16px; margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(212, 163, 115, 0.3);
        }
        .weather-left { display: flex; align-items: center; gap: 12px; }
        .weather-icon { font-size: 36px; }
        .weather-temp { font-size: 32px; font-weight: 800; line-height: 1; }
        .weather-loc { font-size: 12px; opacity: 0.9; text-transform: uppercase; letter-spacing: 1px; }
        .weather-detail { text-align: right; font-size: 12px; opacity: 0.9; }

        /* --- æ¯æ—¥æ·±åº¦å°è¦½ --- */
        .guide-day-header {
            display: flex; justify-content: space-between; align-items: center;
            cursor: pointer; padding: 12px 0; border-bottom: 1px solid var(--border);
        }
        .guide-day-header:last-child { border-bottom: none; }
        .guide-day-title { font-weight: bold; font-size: 16px; }
        .guide-day-badge { 
            background: var(--text-main); color: var(--bg); padding: 2px 8px; 
            border-radius: 6px; font-weight: bold; font-size: 12px; margin-right: 8px;
        }
        .guide-content { 
            display: none; padding-top: 12px; padding-bottom: 12px; background: rgba(0,0,0,0.02); 
            margin: 0 -16px; padding-left: 16px; padding-right: 16px; border-bottom: 1px solid var(--border);
        }
        .guide-content.open { display: block; animation: slideDown 0.3s; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        .guide-section { margin-bottom: 16px; }
        .guide-section-title { font-size: 13px; font-weight: bold; color: var(--primary); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
        .guide-list { list-style: none; padding: 0; margin: 0; }
        .guide-list li { 
            position: relative; padding-left: 14px; margin-bottom: 8px; font-size: 14px; color: var(--text-main);
        }
        .guide-list li::before { 
            content: "â€¢"; color: var(--primary); position: absolute; left: 0; font-weight: bold; 
        }
        .highlight { color: var(--accent-red); font-weight: bold; }
        .live-link {
            display: inline-flex; align-items: center; gap: 4px; font-size: 11px; 
            color: var(--accent-blue); text-decoration: none; border: 1px solid var(--accent-blue);
            padding: 2px 8px; border-radius: 99px; margin-top: 4px;
        }

        /* --- éŸ“èªå¡ --- */
        .korean-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .korean-btn {
            background: var(--surface); border: 1px solid var(--border); padding: 16px; border-radius: 12px;
            text-align: center; cursor: pointer; transition: 0.1s;
        }
        .korean-btn:active { transform: scale(0.98); background: var(--border); }
        .k-big { font-size: 18px; font-weight: bold; margin-bottom: 4px; }
        .k-sub { font-size: 11px; color: var(--text-sub); }

        /* --- å…¶ä»–å…ƒä»¶ --- */
        .btn-naver { background: var(--naver); color: white; padding: 4px 10px; border-radius: 99px; font-size: 11px; text-decoration: none; font-weight: bold; display: inline-flex; align-items: center; gap: 4px; }
        .timeline-day { padding-left: 14px; border-left: 2px solid var(--border); margin-bottom: 24px; position: relative; }
        .day-header { font-size: 18px; font-weight: 800; margin-bottom: 12px; line-height: 1; }
        
        /* --- åº•éƒ¨å°èˆª --- */
        nav { position: fixed; bottom: 0; width: 100%; z-index: 100; height: calc(60px + var(--safe-bottom)); padding-bottom: var(--safe-bottom); background: var(--surface); border-top: 1px solid var(--border); display: flex; justify-content: space-around; align-items: center; }
        .nav-item { background: none; border: none; display: flex; flex-direction: column; align-items: center; color: var(--text-sub); font-size: 10px; gap: 4px; width: 25%; transition: 0.2s; }
        .nav-item.active { color: var(--primary); transform: scale(1.05); }
        .nav-item i { font-size: 20px; }

        /* --- åŠŸèƒ½æ€§ --- */
        .view { display: none; animation: fade 0.3s; } .view.active { display: block; }
        @keyframes fade { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* --- Modal --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(2px); }
        .modal-content { text-align: center; color: white; width: 80%; }
        .modal-big { font-size: 40px; font-weight: bold; margin-bottom: 10px; line-height: 1.2; }
    </style>
</head>
<body>

    <header>
        <h1>SEOUL 2026</h1>
        <i class="fa-solid fa-moon" onclick="toggleTheme()" style="position: absolute; right: 20px; color: var(--text-main); cursor: pointer;"></i>
    </header>

    <main>
        
        <!-- 1. è¡Œç¨‹ PLAN -->
        <div id="view-plan" class="view active">
            <!-- å³æ™‚å¤©æ°£é¢æ¿ -->
            <div class="weather-widget">
                <div class="weather-left">
                    <div id="w-icon" class="weather-icon"><i class="fa-solid fa-spinner fa-spin"></i></div>
                    <div>
                        <div class="weather-temp"><span id="w-temp">--</span>Â°</div>
                        <div class="weather-loc">SEOUL NOW</div>
                    </div>
                </div>
                <div class="weather-detail">
                    <div id="w-desc">è¼‰å…¥ä¸­...</div>
                    <div style="opacity:0.8; margin-top:2px;">é«”æ„Ÿ <span id="w-feels">--</span>Â°C</div>
                </div>
            </div>

            <!-- æ©Ÿç¥¨å¡ç‰‡ -->
            <div class="card" style="padding: 12px 16px;">
                <div style="display:flex; justify-content:space-between; font-size:13px; color:var(--text-sub);">
                    <span>å»ç¨‹ 1/25 07:00</span> <span>å›ç¨‹ 1/31 12:00</span>
                </div>
                <div style="font-weight:bold; font-size:15px; margin-top:4px; display:flex; justify-content:space-between;">
                    <span>L7 æ˜æ´é£¯åº—</span>
                    <a href="https://m.map.naver.com/search2/search.naver?query=L7+ëª…ë™" target="_blank" class="btn-naver">MAP</a>
                </div>
            </div>

            <div id="itinerary-list"></div>
        </div>

        <!-- 2. æ·±åº¦æ”»ç•¥ GUIDE -->
        <div id="view-guide" class="view">
            
            <div style="margin-bottom:16px; font-size:13px; color:var(--text-sub); text-align:center;">
                <i class="fa-solid fa-circle-info"></i> é»æ“Šå¤©æ•¸å±•é–‹è©³ç´°æ”»ç•¥
            </div>

            <div id="guide-accordion"></div>

            <div class="card" style="margin-top:24px;">
                <div style="font-weight:bold; margin-bottom:12px; border-left:4px solid var(--primary); padding-left:8px;">ğŸ—£ï¸ ç”Ÿå­˜éŸ“èª</div>
                <div class="korean-grid">
                    <div class="korean-btn" onclick="modal('ì•ˆë…•í•˜ì„¸ìš”','ä½ å¥½')"><div class="k-big">ä½ å¥½</div><div class="k-sub">å®‰å¦å“ˆã„™ã„Ÿå‘¦</div></div>
                    <div class="korean-btn" onclick="modal('ê°ì‚¬í•©ë‹ˆë‹¤','è¬è¬')"><div class="k-big">è¬è¬</div><div class="k-sub">åº·æ’’å“ˆå’ªæ­</div></div>
                    <div class="korean-btn" onclick="modal('ì´ê±° ì£¼ì„¸ìš”','æˆ‘è¦é€™å€‹')"><div class="k-big">æˆ‘è¦é€™å€‹</div><div class="k-sub">ä¼Šå‹¾ æœ±ã„™ã„Ÿå‘¦</div></div>
                    <div class="korean-btn" onclick="modal('í™”ì¥ì‹¤?','æ´—æ‰‹é–“åœ¨å“ªï¼Ÿ')"><div class="k-big">æ´—æ‰‹é–“</div><div class="k-sub">åŒ–å¦å®¤?</div></div>
                </div>
            </div>
        </div>

        <!-- 3. è¨ˆç®— CALC -->
        <div id="view-calc" class="view">
            <div class="card">
                <div style="font-weight:bold; margin-bottom:12px;">ğŸ’± åŒ¯ç‡æ›ç®— (1 â‰ˆ <span id="rate-display">0.024</span>)</div>
                <div style="background:rgba(0,0,0,0.03); border-radius:8px; padding:15px; display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <input type="tel" id="krw-input" placeholder="KRW" style="border:none; background:transparent; font-size:24px; font-weight:bold; width:100%; outline:none; color:var(--text-main);" oninput="convert()">
                    <span style="font-size:12px; color:var(--text-sub);">éŸ“å…ƒ</span>
                </div>
                <div style="text-align:right; font-size:20px; font-weight:bold; color:var(--primary); padding:0 15px;">
                    â‰ˆ NT$ <span id="twd-output">0</span>
                </div>
            </div>

            <div class="card">
                <div style="font-weight:bold; margin-bottom:12px;">ğŸ’° é€€ç¨…è©¦ç®—</div>
                <div style="display:flex; gap:10px;">
                    <input type="tel" id="tax-input" placeholder="é‡‘é¡" style="flex:1; padding:10px; border:1px solid var(--border); border-radius:8px; background:var(--surface); color:var(--text-main);" oninput="calcTax()">
                    <button onclick="calcTax()" style="background:var(--text-main); color:var(--bg); border:none; border-radius:8px; padding:0 20px; font-weight:bold;">è¨ˆç®—</button>
                </div>
                <div id="tax-result" style="margin-top:15px; text-align:center; font-weight:bold; color:var(--naver); font-size:18px;">é€€ç¨…ï¼šâ‚© 0</div>
            </div>
        </div>

        <!-- 4. è³‡è¨Š INFO -->
        <div id="view-info" class="view">
            <h2 style="font-size:18px; font-weight:800; margin-bottom:12px;">å¯¦ç”¨é€£çµ</h2>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:20px;">
                <a href="https://m.map.naver.com/" target="_blank" class="card" style="text-align:center; margin:0; text-decoration:none; color:var(--text-main);">
                    <i class="fa-solid fa-map" style="font-size:24px; color:var(--naver); margin-bottom:8px;"></i>
                    <div style="font-weight:bold;">Naver Map</div>
                </a>
                <a href="https://n.weather.naver.com/" target="_blank" class="card" style="text-align:center; margin:0; text-decoration:none; color:var(--text-main);">
                    <i class="fa-solid fa-cloud" style="font-size:24px; color:#4a90e2; margin-bottom:8px;"></i>
                    <div style="font-weight:bold;">å¤©æ°£é å ±</div>
                </a>
            </div>
            
            <div class="card">
                <div style="font-weight:bold; margin-bottom:12px;">è¡Œå‰æ¸…å–®</div>
                <div id="checklist-container"></div>
            </div>
        </div>

    </main>

    <nav>
        <button class="nav-item active" onclick="go('plan')"><i class="fa-solid fa-calendar-days"></i><span>è¡Œç¨‹</span></button>
        <button class="nav-item" onclick="go('guide')"><i class="fa-solid fa-book-open"></i><span>æ”»ç•¥</span></button>
        <button class="nav-item" onclick="go('calc')"><i class="fa-solid fa-calculator"></i><span>è¨ˆç®—</span></button>
        <button class="nav-item" onclick="go('info')"><i class="fa-solid fa-circle-info"></i><span>è³‡è¨Š</span></button>
    </nav>

    <!-- Modal -->
    <div id="modal" class="modal-overlay" onclick="this.style.display='none'">
        <div class="modal-content">
            <div id="m-big" class="modal-big"></div>
            <div id="m-sub" style="font-size:18px; opacity:0.8;"></div>
        </div>
    </div>

    <script>
        // --- 1. DATA (è¡Œç¨‹ & å°è¦½) ---
        const itinerary = [
            { d:1, date:"1/25 (æ—¥)", title:"æŠµé” & æ˜æ´", items: [
                { t:"13:30", title:"åˆé¤ (æ˜æ´)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"æ˜æ´é¤ƒå­", k:"ëª…ë™êµì", t:"walkin"}, {n:"ç¥ä»™é›ªæ¿ƒæ¹¯", k:"ì‹ ì„ ì„¤ë†íƒ•", t:"walkin"}, {n:"æ²³æ±é¤¨", k:"í•˜ë™ê´€", t:"walkin"}]},
                { t:"14:30", title:"å…ç¨…åº—è³¼ç‰©", sub:"æ–°ä¸–ç•Œ + æ¨‚å¤©ç¸½åº—", k:"ì‹ ì„¸ê³„ë©´ì„¸ì  ëª…ë™ì " },
                { t:"18:00", title:"æ˜æ´é€›è¡—", sub:"TNF, NB, emis, Musinsa", k:"ë¬´ì‹ ì‚¬ ìŠ¤íƒ ë‹¤ë“œ ëª…ë™" },
                { t:"19:00", title:"æ™šé¤ (çƒ¤è‚‰)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"ç‹å¦ƒå®¶", k:"ì™•ë¹„ì§‘", t:"res"}, {n:"é»ƒé‡‘ç‰§å ´", k:"í™©ê¸ˆëª©ì¥", t:"res"}, {n:"è’è¬¬çš„ç”Ÿè‚‰", k:"ì—‰í„°ë¦¬ìƒê³ ê¸°", t:"walkin"}]}
            ]},
            { d:2, date:"1/26 (ä¸€)", title:"å¤å®® & æ‰¹ç™¼", items: [
                { t:"09:30", title:"æ™¯ç¦å®®", sub:"éŸ“æœé«”é©—", k:"ê²½ë³µê¶" },
                { t:"12:00", title:"åˆé¤ (è¥¿æ‘)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"åœŸä¿—æ‘è”˜é›æ¹¯", k:"í† ì†ì´Œ", t:"walkin"}, {n:"ç½é ­é¤ƒå­", k:"ê¹¡í†µë§Œë‘", t:"app"}, {n:"é€šä»å¸‚å ´", k:"í†µì¸ì‹œì¥", t:"walkin"}]},
                { t:"13:30", title:"Folnua", sub:"åˆäº•è²·åŒ…", k:"í´ë‰´ì•„" },
                { t:"19:00", title:"æ±å¤§é–€æ‰¹ç™¼", sub:"apM PLACE", k:"apM PLACE" }
            ]},
            { d:3, date:"1/27 (äºŒ)", title:"è¿‘éƒŠéŠ", items: [
                { t:"08:00", title:"è¿‘éƒŠä¸€æ—¥éŠ", sub:"å—æ€¡å³¶ / æ»‘é›ª" },
                { t:"19:30", title:"æ™šé¤ (ç‚¸é›)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"BHC", k:"BHCì¹˜í‚¨", t:"walkin"}, {n:"Puradak", k:"í‘¸ë¼ë‹­", t:"walkin"}, {n:"Oppadak", k:"ì˜¤ë¹ ë‹­", t:"walkin"}]}
            ]},
            { d:4, date:"1/28 (ä¸‰)", title:"æ±Ÿå—æ½®æµ", items: [
                { t:"11:00", title:"ç‹é·—äº­æ½®ç‰Œ", sub:"Supreme, Stussy", k:"ìŠˆí”„ë¦¼ ë„ì‚°" },
                { t:"13:00", title:"åˆé¤ (å³¶å±±)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"London Bagel", k:"ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„", t:"app"}, {n:"Gino's Pizza", k:"ì§€ë…¸ìŠ¤í”¼ì", t:"res"}, {n:"Dosan Bunsik", k:"ë„ì‚°ë¶„ì‹", t:"walkin"}]},
                { t:"15:00", title:"Nudake", sub:"ä¸‹åˆèŒ¶", k:"ëˆ„ë°ì´í¬ ë„ì‚°" }
            ]},
            { d:5, date:"1/29 (å››)", title:"å‹•ç‰©åœ’ & ç¾ä»£", items: [
                { t:"10:30", title:"Zoolung Zoolung", sub:"æ°¸ç™»æµ¦å‹•ç‰©åœ’", k:"ì£¼ë ì£¼ë  ì˜ë“±í¬" },
                { t:"15:00", title:"ç¾ä»£ç™¾è²¨", sub:"æ±çŸ£å³¶ (B2æ½®ç‰Œ)", k:"ë”í˜„ëŒ€ ì„œìš¸" },
                { t:"19:00", title:"æ™šé¤ (ç™¾è²¨)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"Eataly", k:"ì´íƒˆë¦¬", t:"res"}, {n:"SMT Lounge", k:"SMTë¼ìš´ì§€", t:"res"}, {n:"B1ç¾é£Ÿè¡—", k:"ë”í˜„ëŒ€ ì„œìš¸", t:"walkin"}]}
            ]},
            { d:6, date:"1/30 (äº”)", title:"çµ‚æ¥µæ¡è³¼", items: [
                { t:"09:30", title:"å—å¤§é–€ç«¥è£", sub:"Burdeng, Mama", k:"ë‚¨ëŒ€ë¬¸ì‹œì¥" },
                { t:"12:00", title:"åˆé¤ (å¿…åƒ)", sub:"ä¸‰é¸ä¸€", type:"meal", opts:[{n:"JoJo Kalguksu", k:"ì¡°ì¡°ì¹¼êµ­ìˆ˜ ì‹œì²­ì ", t:"walkin"}, {n:"éŸ“é †å­å¥¶å¥¶", k:"í•œìˆœìí• ë¨¸ë‹ˆì†ì¹¼êµ­ìˆ˜", t:"walkin"}, {n:"å¯Œæ‘ç”Ÿæ‹Œç‰›è‚‰", k:"ë¶€ì´Œìœ¡íšŒ", t:"walkin"}]},
                { t:"13:30", title:"å»£è—å¸‚å ´", sub:"æ£‰è¢« (çœŸç©ºå£“ç¸®)", k:"ê´‘ì¥ì‹œì¥" },
                { t:"14:30", title:"æ¨‚å¤©è¶…å¸‚", sub:"é¦–çˆ¾ç«™", k:"ë¡¯ë°ë§ˆíŠ¸ ì„œìš¸ì—­ì " }
            ]},
            { d:7, date:"1/31 (å…­)", title:"å›å®¶", items: [
                { t:"08:30", title:"Check-out", sub:"æ©Ÿå ´å·´å£«" },
                { t:"11:00", title:"é ˜å–å…ç¨…å“", sub:"ä»å·æ©Ÿå ´" },
                { t:"12:00", title:"èµ·é£›", sub:"CI 0165" }
            ]}
        ];

        // æ·±åº¦æ”»ç•¥è³‡æ–™
        const dailyGuides = [
            { d:1, t:"Day 1 æ˜æ´æ”»ç•¥", content: `
                <div class="guide-section">
                    <div class="guide-section-title">æ›éŒ¢èˆ‡æ”¯ä»˜</div>
                    <ul class="guide-list">
                        <li><strong>å¤§ä½¿é¤¨/ä¸€å“é¦™ï¼š</strong>é€™å…©å®¶åŒ¯ç‡é€šå¸¸æœ€å¥½ï¼Œä½æ–¼ä¸­åœ‹å¤§ä½¿é¤¨å‰ã€‚</li>
                        <li><strong>WOWPASSï¼š</strong>é£¯åº—L7å¤§å»³æœ‰æ©Ÿå°å¯è¾¦ç†ï¼Œä½†åŒ¯ç‡ç¨å·®æ–¼æ›éŒ¢æ‰€ã€‚</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <div class="guide-section-title">å…ç¨…åº—é›™æ®º (æ–°ä¸–ç•Œ/æ¨‚å¤©)</div>
                    <ul class="guide-list">
                        <li><strong>å¿…å¸¶ï¼š</strong>è­·ç…§ + å›ç¨‹èˆªç­è³‡è¨Šã€‚</li>
                        <li><strong>åœ‹éš›å“ç‰Œï¼š</strong>(å¦‚Gucci, YSL) éœ€åœ¨<span class="highlight">æ©Ÿå ´æè²¨</span>ï¼Œä¸èƒ½ç¾å ´æ‹¿ã€‚</li>
                        <li><strong>æœ¬åœŸå“ç‰Œï¼š</strong>(å¦‚Gentle Monster) å¯ç¾å ´å–è²¨ã€‚</li>
                    </ul>
                </div>
            `},
            { d:2, date: "1/26", t:"Day 2 å¤å®® & æ‰¹ç™¼", content: `
                <div class="guide-section">
                    <div class="guide-section-title">æ™¯ç¦å®® & è¥¿æ‘</div>
                    <ul class="guide-list">
                        <li><strong>éŸ“æœï¼š</strong>ç©¿éŸ“æœé€²å®®å…è²»ã€‚å»ºè­°é ç´„ 9:30 ç¬¬ä¸€æ‰¹ï¼Œäººå°‘å¥½æ‹ã€‚</li>
                        <li><strong>åœŸä¿—æ‘è”˜é›æ¹¯ï¼š</strong> 11:30 å‰åˆ°æ¯”è¼ƒä¸ç”¨æ’éšŠï¼Œæœ‰é™„äººè”˜é…’ã€‚</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <div class="guide-section-title">æ±å¤§é–€æ‰¹ç™¼å¤œæˆ°</div>
                    <ul class="guide-list">
                        <li><strong>æ™‚é–“ï¼š</strong>æ™šä¸Š 8 é»å¾Œåº—å®¶æ‰é™¸çºŒé–‹é–€ã€‚</li>
                        <li><strong>apM PLACEï¼š</strong>é£¾å“ã€è³ªæ„Ÿå¥³è£é¦–é¸ï¼Œè¼ƒå¤šåº—å®¶é¡˜æ„é›¶å”®ã€‚</li>
                        <li><strong>æ½›è¦å‰‡ï¼š</strong>å¦‚æœä¸æƒ³è²·2ä»¶åŒæ¬¾ï¼Œå¯ä»¥å• "Sample? (æ¨£å“)" æˆ– "One piece okay?"ã€‚</li>
                    </ul>
                </div>
            `},
            { d:3, date: "1/27", t:"Day 3 è¿‘éƒŠä¸€æ—¥éŠ", content: `
                <div class="guide-section">
                    <div class="guide-section-title">å—æ€¡å³¶ & æ»‘é›ª</div>
                    <ul class="guide-list">
                        <li><strong>ä¿æš–ï¼š</strong>æ±ŸåŸé“é«”æ„Ÿæº«åº¦æ¯”é¦–çˆ¾ä½ 5åº¦ï¼Œæš–æš–åŒ…è«‹è²¼è…³åº•ã€‚</li>
                        <li><strong>æ»‘é›ªè£å‚™ï¼š</strong>å»ºè­°ç§Ÿå€Ÿè­·è‡€èˆ‡è­·è†ï¼Œæ–°æ‰‹æ‘”å€’å¾ˆç—›ã€‚é˜²æ°´æ‰‹å¥—å¿…å‚™ã€‚</li>
                        <li><strong>äº¤é€šï¼š</strong>è‹¥è·Ÿåœ˜ï¼Œå›ç¨‹å¯èƒ½æœƒå¡è»Šï¼Œæ™šé¤å»ºè­°é è¨‚æ™šä¸€é»ã€‚</li>
                    </ul>
                </div>
            `},
            { d:4, date: "1/28", t:"Day 4 æ½®æµè–åœ°", content: `
                <div class="guide-section">
                    <div class="guide-section-title">Supreme & StÃ¼ssy</div>
                    <ul class="guide-list">
                        <li><strong>ç™¼å”®æ—¥ï¼š</strong>Supreme æ–°å“é€šå¸¸é€±å››ç™¼å”®ï¼Œé€™å¤©äººæ½®æœƒå¾ˆå¤šã€‚</li>
                        <li><strong>å…¥å ´ï¼š</strong>è‹¥æ’éšŠäººé¾éé•·ï¼Œå»ºè­°å…ˆå»æ—é‚Š StÃ¼ssy æˆ– Human Madeã€‚</li>
                        <li><a href="https://www.google.com/search?q=Supreme+Seoul+drop+list" target="_blank" class="live-link"><i class="fa-brands fa-google"></i> æœæœ¬é€±æ–°å“</a></li>
                    </ul>
                </div>
                <div class="guide-section">
                    <div class="guide-section-title">æ’éšŠååº—</div>
                    <ul class="guide-list">
                        <li><strong>London Bagelï¼š</strong>ä¸€åˆ°å³¶å±±å…¬åœ’å…ˆå»åº—é–€å£ç”¨ CatchTable ç™»è¨˜å€™ä½ï¼Œå†å»é€›è¡—ã€‚</li>
                    </ul>
                </div>
            `},
            { d:5, date: "1/29", t:"Day 5 è¦ªå­èˆ‡ç™¾è²¨", content: `
                <div class="guide-section">
                    <div class="guide-section-title">Zoolung Zoolung</div>
                    <ul class="guide-list">
                        <li><strong>äº’å‹•ï¼š</strong>å…¥å ´è¨˜å¾—æ‹¿é›†ç« æ‰‹å†Šï¼Œè“‹æ»¿æœ‰å°ç¦®ç‰©ã€‚</li>
                        <li><strong>æ³¨æ„ï¼š</strong>é³¥åœ’å€é³¥é¡æœƒåœåœ¨æ‰‹ä¸Šï¼Œè«‹æ³¨æ„å°æœ‹å‹å®‰å…¨ã€‚</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <div class="guide-section-title">The Hyundai Seoul</div>
                    <ul class="guide-list">
                        <li><strong>B2 æ½®ç‰Œå±¤ï¼š</strong>Matin Kim, Marithe ç­‰å¤§ç‰Œéƒ½åœ¨é€™ï¼Œäººæ½®æœ€æ“ ã€‚</li>
                        <li><strong>6F é€€ç¨…ï¼š</strong>æœ‰é€€ç¨…æ©Ÿå°ï¼Œè¨˜å¾—å¸¶è­·ç…§ã€‚</li>
                    </ul>
                </div>
            `},
            { d:6, date: "1/30", t:"Day 6 çµ‚æ¥µæ¡è³¼", content: `
                <div class="guide-section">
                    <div class="guide-section-title">å—å¤§é–€ç«¥è£</div>
                    <ul class="guide-list">
                        <li><strong>å¿…é€›å¤§æ¨“ï¼š</strong>Burdeng, Mama, Porkyã€‚</li>
                        <li><strong>ç¾é‡‘ï¼š</strong>90% åº—å®¶åªæ”¶ç¾é‡‘ï¼è«‹å‚™è¶³åƒå…ƒ/è¬å…ƒéˆ”ã€‚</li>
                        <li><strong>å°ºå¯¸ï¼š</strong>éŸ“ç‰ˆç‰ˆå‹åå°ï¼Œå»ºè­°è²·å¤§ä¸€è™Ÿã€‚</li>
                    </ul>
                </div>
                <div class="guide-section">
                    <div class="guide-section-title">å»£è—å¸‚å ´æ£‰è¢«</div>
                    <ul class="guide-list">
                        <li><strong>é—œéµå­—ï¼š</strong>è²·å®Œè«‹è€é—† <span class="highlight">Vacuum Pack (çœŸç©ºå£“ç¸®)</span>ã€‚</li>
                        <li><strong>æ¨è–¦ï¼š</strong>169è™Ÿ (æ´ªå®¶)ã€88è™Ÿã€‚</li>
                    </ul>
                </div>
            `},
            { d:7, date: "1/31", t:"Day 7 æ©Ÿå ´æ”»ç•¥", content: `
                <div class="guide-section">
                    <div class="guide-section-title">é€€ç¨…èˆ‡æè²¨</div>
                    <ul class="guide-list">
                        <li><strong>KIOSKï¼š</strong>å®‰æª¢å‰å…ˆå»è‡ªåŠ©æ©Ÿå°æƒæè­·ç…§èˆ‡é€€ç¨…å–®ã€‚</li>
                        <li><strong>æè²¨ï¼š</strong>éå®‰æª¢å¾Œï¼Œå»ã€Œå…ç¨…å“æè²¨è™•ã€é ˜å– Day 1 è²·çš„å•†å“ã€‚è«‹é ç•™ 30 åˆ†é˜æ’éšŠæ™‚é–“ã€‚</li>
                    </ul>
                </div>
            `}
        ];

        // --- Logic ---
        let rate = 0.024;

        function init() {
            renderItinerary();
            renderGuide();
            renderChecklist();
            updateWeather();
            updateRate();
        }

        // å¤©æ°£ API
        async function updateWeather() {
            try {
                const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=37.5665&longitude=126.9780&current=temperature_2m,apparent_temperature,weather_code&timezone=Asia%2FSeoul');
                const data = await res.json();
                const cur = data.current;
                
                let icon='fa-sun', desc='æ™´æœ—';
                if(cur.weather_code>0 && cur.weather_code<=3) { icon='fa-cloud-sun'; desc='å¤šé›²'; }
                else if(cur.weather_code>=50) { icon='fa-umbrella'; desc='é›¨/é›ª'; }
                
                document.getElementById('w-temp').innerText = Math.round(cur.temperature_2m);
                document.getElementById('w-feels').innerText = Math.round(cur.apparent_temperature);
                document.getElementById('w-desc').innerText = desc;
                document.getElementById('w-icon').innerHTML = `<i class="fa-solid ${icon}"></i>`;
            } catch(e) {
                document.getElementById('w-desc').innerText = 'é›¢ç·š';
            }
        }

        // æ¸²æŸ“å°è¦½
        function renderGuide() {
            const el = document.getElementById('guide-accordion');
            el.innerHTML = dailyGuides.map(g => `
                <div class="card" style="padding:0; overflow:hidden;">
                    <div class="guide-day-header" onclick="toggleGuide(${g.d})" style="padding:16px;">
                        <div><span class="guide-day-badge">Day ${g.d}</span> <span class="guide-day-title">${g.t}</span></div>
                        <i class="fa-solid fa-chevron-down" id="icon-d${g.d}" style="color:var(--text-sub); transition:0.3s;"></i>
                    </div>
                    <div id="content-d${g.d}" class="guide-content">
                        ${g.content}
                    </div>
                </div>
            `).join('');
        }

        function toggleGuide(id) {
            const content = document.getElementById(`content-d${id}`);
            const icon = document.getElementById(`icon-d${id}`);
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.classList.add('open');
                icon.style.transform = 'rotate(180deg)';
            }
        }

        // æ¸²æŸ“è¡Œç¨‹
        function renderItinerary() {
            let html = '';
            itinerary.forEach(day => {
                html += `<div class="timeline-day"><div class="day-header">Day ${day.d} <span class="day-date">${day.date}</span></div>`;
                day.items.forEach(ev => {
                    html += `<div class="event-item"><div class="event-dot"></div><span class="event-time">${ev.t}</span>`;
                    html += `<div style="font-weight:bold; font-size:16px;">${ev.title} <span style="font-weight:normal; font-size:13px; color:var(--text-sub);">${ev.sub}</span>`;
                    if (ev.k && !ev.type) html += ` <a href="https://m.map.naver.com/search2/search.naver?query=${ev.k}" target="_blank" class="btn-naver">MAP</a>`;
                    html += `</div>`;
                    
                    if (ev.type === 'meal') {
                        html += `<div class="meal-box">`;
                        ev.opts.forEach(opt => {
                            let bg = opt.t==='app'?'bg-orange':(opt.t==='res'?'bg-green':'bg-red');
                            let txt = opt.t==='app'?'App':(opt.t==='res'?'é ç´„':'æ’éšŠ');
                            html += `<div class="meal-option"><span>${opt.n}</span><div style="display:flex; align-items:center; gap:6px;"><span class="badge ${bg}">${txt}</span><a href="https://m.map.naver.com/search2/search.naver?query=${opt.k}" target="_blank" style="color:var(--text-sub);"><i class="fa-solid fa-location-arrow"></i></a></div></div>`;
                        });
                        html += `</div>`;
                    }
                    html += `</div>`;
                });
                html += `</div>`;
            });
            document.getElementById('itinerary-list').innerHTML = html;
        }

        // å·¥å…·å‡½å¼
        function convert() {
            const v = document.getElementById('krw-input').value;
            document.getElementById('twd-output').innerText = Math.round(v * rate).toLocaleString();
        }
        function calcTax() {
            let v = parseInt(document.getElementById('tax-input').value);
            let r = 0;
            if(v>=30000 && v<50000) r=1500; else if(v>=50000 && v<75000) r=3500; else if(v>=75000) r=Math.floor(v*0.06);
            document.getElementById('tax-result').innerText = `é€€ç¨…ï¼šâ‚© ${r.toLocaleString()}`;
        }
        function updateRate() {
            fetch('https://api.exchangerate-api.com/v4/latest/KRW').then(r=>r.json()).then(d=>{if(d.rates.TWD){rate=d.rates.TWD;document.getElementById('rate-display').innerText=rate.toFixed(4);}});
        }
        function go(id) {
            document.querySelectorAll('.view').forEach(e => e.classList.remove('active'));
            document.getElementById('view-'+id).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
            event.currentTarget.classList.add('active');
            window.scrollTo(0,0);
        }
        function modal(b,s) {
            document.getElementById('m-big').innerText=b; document.getElementById('m-sub').innerText=s;
            document.getElementById('modal').style.display='flex';
        }
        function toggleTheme() {
            const b = document.body;
            b.setAttribute('data-theme', b.getAttribute('data-theme')==='dark'?'light':'dark');
        }

        // æ¸…å–®
        const checkItems = ["è­·ç…§","ç¶²å¡","è½‰æ¥é ­","WOWPASS","ç‰™åˆ·","ä¿æš–è¡£ç‰©"];
        let checkState = JSON.parse(localStorage.getItem('seoul_check_final')) || new Array(checkItems.length).fill(false);
        function renderChecklist() {
            document.getElementById('checklist-container').innerHTML = checkItems.map((item, i) => `
                <div style="padding:12px; border-bottom:1px solid var(--border); display:flex; align-items:center; cursor:pointer;" onclick="toggleCheck(${i})">
                    <div style="width:20px; height:20px; border:2px solid var(--text-sub); border-radius:4px; display:flex; align-items:center; justify-content:center; margin-right:12px; background:${checkState[i]?'var(--primary)':'transparent'}; border-color:${checkState[i]?'var(--primary)':'var(--text-sub)'}; color:white;">${checkState[i]?'<i class="fa-solid fa-check" style="font-size:12px;"></i>':''}</div>
                    <span style="${checkState[i]?'text-decoration:line-through;color:var(--text-sub)':''}">${item}</span>
                </div>`).join('');
        }
        function toggleCheck(i) {
            checkState[i] = !checkState[i];
            localStorage.setItem('seoul_check_final', JSON.stringify(checkState));
            renderChecklist();
        }

        window.onload = init;
    </script>
</body>
</html>


